<section class="{% if item.class %}{{ item.class }}{% else %}s-sm py-0{% endif %}">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <form id="my-form" class="max-w-screen-sm mx-auto space-y-10" action="https://formspree.io/f/mayazdaj" method="POST" enctype="multipart/form-data">
        <div class="grid gap-5 md:grid-cols-2">
            <h3 class="md:col-span-2 mb-0">Contact info</h3>
            <div class="space-y-2">
                <label>Name <span class="text-gray-500">(required)</span></label>
                <input class="input" type="text" name="name" placeholder="Johnny Appleseed" autocomplete="name" required>
            </div>
            <div class="space-y-2">
                <label>Email <span class="text-gray-500">(required)</span></label>
                <input class="input" type="text" name="_replyto" placeholder="johnny@appleseed.com" autocomplete="email" required>
            </div>
            <div class="space-y-2">
                <label>Organization <span class="text-gray-500">(optional)</span></label>
                <input class="input" type="text" name="organization" placeholder="Appleseed Nursery" autocomplete="organization">
            </div>
            <div class="space-y-2">
                <label>Phone <span class="text-gray-500">(optional)</span></label>
                <input class="input" type="tel" name="phone" placeholder="(740) 123-1234" autocomplete="tel-national">
            </div>
        </div>
        <div class="grid gap-5">
            <h3 class="mb-0">Garments</h3>
            <div class="space-y-2">
                <label>Describe your desired garment <span class="text-gray-500">(optional)</span></label>
                <textarea class="input" name="desired_garment" placeholder="Example: I want a basic Independent hoodie in heather gray ..." rows="3"></textarea>
            </div>
            <div class="space-y-2 relative"
                x-data="{ tooltip: false }">
                <label>How many do you need? <span class="text-gray-500">(required)</span></label>
                <input class="input" type="text" name="quantity" placeholder="Example: I need 50 shirts printed with the same artwork" required
                    x-on:mouseover="tooltip = true"
                    x-on:mouseleave="tooltip = false">
                <div class="tooltip absolute right-0 left-0 mx-4 bg-gray-200 rounded-sm filter drop-shadow p-2 z-50 text-xs text-center md:mx-8"
                    x-cloak
                    x-show.transition.origin.top="tooltip">
                    <div class="font-bold">Note:</div>
                    <div>Our minimum print run is 12 garments with the same artwork</div>
                </div>
            </div>
            <div class="space-y-2">
                <label>Describe your art needs <span class="text-gray-500">(optional)</span></label>
                <textarea class="input" name="art_needs" placeholder="Example: I need a two-color print on the front and the back. I will need help with the artwork because I don’t have any finished ..." rows="3"></textarea>
            </div>
            <div class="space-y-2">
                <label>Upload your artwork <span class="text-gray-500">(optional)</span></label>
                <div class="input bg-white flex flex-col justify-center text-center">
                    <div class="text-gray-500">Click below to select a file to upload:</div>
                    <input class="cd-xs text-center input" type="file" name="upload">
                </div>
            </div>
        </div>
        <div class="grid gap-5">
            <h3 class="mb-0">Other info</h3>
            <div class="space-y-2">
                <label>General info/additional context <span class="text-gray-500">(required)</span></label>
                <textarea class="input" name="general_info" placeholder="Example: I’m in charge of ordering work uniforms for XYZ Plumbing Co. We’re based in Ohio and need the shirts ASAP because we’ve run out at the warehouse ..." rows="3" required></textarea>
            </div>
            <div class="space-y-2">
                <label>Need by date <span class="text-gray-500">(optional)</span></label>
                <input class="input" type="text" name="deadline" placeholder="Example: This is very urgent, we need the shirts in just 6 days">
            </div>
            <div class="g-recaptcha" data-sitekey="6LcDUOgcAAAAAFyKOmdL2rlryO8GokDSe6RbejNt"></div>
            <button id="my-form-button" class="btn btn--main w-full">Request Quote</button>
        </div>
        <div id="my-form-status" class="">
        </div>
    </form>
</section>
<script>
    var form = document.getElementById("my-form");

    async function handleSubmit(event) {
      event.preventDefault();
      var status = document.getElementById("my-form-status");
      var data = new FormData(event.target);
      fetch(event.target.action, {
        method: form.method,
        body: data,
        headers: {
            'Accept': 'application/json'
        }
      }).then(response => {
        status.innerHTML = "Thanks for your submission! We'll get back to you very soon.";
        status.className = "cd-sm bg-gray-100 border-2 border-green rounded text-center";
        form.reset()
      }).catch(error => {
        status.innerHTML = "Oops! There was a problem submitting your form. Try again or call us at {{ phone }}."
        status.className = "cd-sm bg-gray-100 border-2 border-red-400 rounded text-center";
      });
    }
    form.addEventListener("submit", handleSubmit)
</script>